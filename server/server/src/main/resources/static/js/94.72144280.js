"use strict";(self["webpackChunkdebuger_view"]=self["webpackChunkdebuger_view"]||[]).push([[94],{4866:function(e,t,a){a.d(t,{Jm:function(){return l},iu:function(){return u},mc:function(){return o}});var n=a(4717);const l=e=>{let t=new WebSocket("ws://"+(0,n.R)()+"/ws/discovery");t.onmessage=e},o=e=>{let t=new WebSocket("ws://"+(0,n.R)()+"/ws/debug/info");t.onmessage=e},u=e=>{let t=new WebSocket("ws://"+(0,n.R)()+"/ws/debug/servletfail");t.onmessage=e}},4094:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});a(2106);var n=a(6956),l=a(7816),o=a(4866),u=a(6381);function r(){return(0,u.a)({url:"/log/get",method:"get"})}function d(){return(0,u.a)({url:"/log/clean",method:"get"})}const i={key:0},s={id:"context"};var g={__name:"Log",setup(e){const t=(0,l.qj)({data:[]}),a=(0,l.iH)(1),u=(0,l.iH)(10),g=()=>{d(),t.data.length=0},c=()=>t.data.length<10?1:10*Math.floor(t.data.length/10),p=e=>{a.value=e};return r().then((e=>{if(null!=e.getContext())for(let a of e.getContext())a.date=new Date(a.date),t.data.push(a)})),(0,o.mc)((e=>{let a=JSON.parse(e.data);a.date=new Date(a.date),t.data.push(a)})),(e,l)=>{const o=(0,n.up)("el-button"),r=(0,n.up)("el-table-column"),d=(0,n.up)("el-table"),f=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",null,[0!==t.data.length?((0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(o,{onClick:g,type:"primary",style:{"margin-bottom":"10px"}},{default:(0,n.w5)((()=>[(0,n.Uk)("清空输出")])),_:1})])):(0,n.kq)("",!0),(0,n._)("div",s,[(0,n.Wm)(d,{data:t.data.slice((a.value-1)*u.value,a.value*u.value),height:"600px"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{label:"状态",prop:"debugType",width:"100px"}),(0,n.Wm)(r,{label:"时间",prop:"date",width:"200px"}),(0,n.Wm)(r,{label:"信息",prop:"debugMessage"})])),_:1},8,["data"]),(0,n.Wm)(f,{class:"flat",background:"",layout:"prev, pager, next",onCurrentChange:p,onNextClick:p,onPrevClick:p,total:c(),"hide-on-single-page":0===t.data.length},null,8,["total","hide-on-single-page"])])])}}},c=a(9239);const p=(0,c.Z)(g,[["__scopeId","data-v-209f0360"]]);var f=p}}]);
//# sourceMappingURL=94.72144280.js.map